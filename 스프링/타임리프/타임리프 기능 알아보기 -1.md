---
상태: 진행중
시작일: 2024-06-11
마감일: 2024-06-11
---
## SpringEL표현식
>spring이 object를 표현하는 방식
>Thymeleaf에서 springEL을 사용해서 오브젝트에 접근이 가능하다.

```html
<ul>Object  
	<li>${user.username} = <span th:text="${user.username}"></span></li>  
	<li>${user['username']} = <span th:text="${user['username']}"></span></li>  
	<li>${user.getUsername()} = <span th:text="${user.getUsername()}"></span></li>  
</ul>  
<ul>List  
	<li>${users[0].username} = <span th:text="${users[0].username}"></span></li>  
	<li>${users[0]['username'] = <span th:text="${users[0]['username']}"></span></li> 
	<li>${users[0].getUsername()} = <span th:text="${users[0].getUsername()}"></span></li>  
</ul>  
<ul>Map  
	<li>${userMap['userA'].username = <span th:text="${userMap['userA'].username}"></span></li>  
	<li>${userMap['userA']['userA'] = <span th:text="${userMap['userA']['username']}"></span></li>  
	<li>${userMap['userA'].getUsername()} = <span th:text="${userMap['userA'].getUsername()}"></span></li>  
</ul>

```

![](https://i.imgur.com/5BsZoog.png)

## 지역 변수 선언
`th:with`를 사용해서 지역 변수 선언을 할 수 있다. 단, 선언한 태그 안에서만 사용 가능하다.
```html
<h1>지역 변수 - (th:with)</h1>  
<div th:with="first=${users[0]}">  
	<p>처음 사람의 이름은 <span th:text="${first.username}"></span></p>  
</div>
```

## 기본 객체들
타임리프가 제공하는 기본객체
스프링부트 3.0부터는 타임리프에서 `request`, `response`, `session`, `servletContext`를 기본객체로 제공하지 않아서 model에 담아서 view로 넘겨야 한다.
- `${request}`
- `${response}`
- `${session}`
- `${servletContext}`
- `${#locale}`

```java
@GetMapping("/basic-objects")  
public String basicObjects(Model model, HttpServletRequest request, HttpServletResponse response, HttpSession session) {  
	session.setAttribute("sessionData", "Hello Session");  
	model.addAttribute("request", request);  
	model.addAttribute("response", response);  
	model.addAttribute("servletContext", request.getServletContext());  
	return "basic/basic-objects";  
}  
  
@Component("helloBean")  
static class HelloBean {  
	public String hello(String data){  
		return "Hello" + data;  
	}  
}
```
```html
<body>  
<h1>식 기본 객체 (Expression Basic Objects)</h1>  
<ul>  
	<li>request = <span th:text="${request}"></span></li>  
	<li>response = <span th:text="${response}"></span></li>  
	<li>session = <span th:text="${session}"></span></li>  
	<li>servletContext = <span th:text="${servletContext}"></span></li>  
	<li>locale = <span th:text="${#locale}"></span></li>  
</ul>  
<h1>편의 객체</h1>  
<ul>  
	<li>Request Parameter = <span th:text="${param.paramData}"></span></li>  
	<li>session = <span th:text="${session.sessionData}"></span></li>  
	<li>spring bean = <span th:text="${@helloBean.hello('Spring!')}"></span></li>  
</ul>  
</body>
```
![](https://i.imgur.com/5TWTUOO.png)

## 유틸리티 객체와 날짜
문자, 날짜, 오브젝트, 메시지 등을 편리하게 사용할 수 있도록 하는 객체

### [유틸리티 객체에 대한 자세한 내용](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#expression-utility-objects)

**유틸리티 객체 종류**
- `#messages`: 메세지, 국제화 처리
- `#dates`: `java.util.Date`서식 지정, 구성 요소 추출 등
- `#numbers`: 숫자 개체의 서식을 지정하는 방법
- `#springs`: String 객체에 대한 메서드 제공
- `#bools`: Boolean 처리 메서드 제공
- `#arrays`: 배열 처리 메서드 제공
- `#temporals`: 자바 8 날짜 서식 지원

**자바 8의 날짜 타입 사용하려면 `thymeleaf-extras-java8time`라는 라이브러리가 필요하다.**
**하지만, 스프링부트 3.2이상을 사용한다면 이미 포함되어 있어서 신경쓰지 않아도된다.**

```java
@GetMapping("/date")  
public String date(Model model) {  
	model.addAttribute("localDateTime", LocalDateTime.now());  
  
	return "basic/date";  
}
```

```html
<ul>  
	<li>default = <span th:text="${localDateTime}"></span></li>  
	<li>yyyy-MM-dd HH:mm:ss = <span th:text="${#temporals.format(localDateTime, 'yyyy-MM-dd HH:mm:ss')}"></span></li>  
</ul>
```

![](https://i.imgur.com/ExZWP0v.png)

