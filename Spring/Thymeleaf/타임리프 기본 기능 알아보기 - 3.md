---
상태: 진행중
tags:
  - 타임리프
시작일: 2024-06-14
마감일: 2024-06-14
---
### 이전 게시물 [[타임리프 기본 기능 알아보기 - 2|타임리프 기본 2]]
---
## 블록
**[타임리프자체태그](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#synthetic-thblock-tag)**
`th:block` 타임리프의 유일한 자체 태그

개발자가 원하는 속성을 지정할 수 있는 단순한 속성 컨테이너로 속성을 실행한 다음 블록을 사라지게 만들지만 속성은 그대로 남아있다.

예를들어, 사용자 이름과 나이를 같은 열에 두고 요약을 다른 열에 두고 싶을 때 사용할 수 있습니다.
![](https://i.imgur.com/0ORKAJL.png)

```html
<!DOCTYPE html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head>  
...
</head>  
<body>  
<table border="1">  
	<th:block th:each="user : ${users}">  
		<tr>  
			<td th:text="|사용자 이름 : ${user.username}|"></td>  
			<td th:text="|요약 : ${user.username} / ${user.age}|"></td>  
		</tr>  
		<tr>  
			<td th:text="|사용자 나이 : ${user.age}|"></td>  
		</tr>  
	</th:block>  
</table>  
</body>  
</html>
```

`th:block`이 없었다면 **사용자 나이**를 출력하는 `th:text`에서는 `${user.age}`를 사용하지 못했을 것이다.

## 📚자바스크립트 인라인
**[자바스크립트 인라인](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#javascript-inlining)**
**사용법** : `th:inline="javascript"` 명시적으로 활성화해야 한다.

타임리프에서 자바스크립트를 편리하게 사용할 수 있도록 도와주는 기능

```html
<!DOCTYPE html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head>  
<meta charset="UTF-8">  
<title>Title</title>  
</head>  
<body>  
<!-- 자바스크립트 인라인 사용 전 -->  
<script>  
	var username = [[${user.username}]];  
	var age = [[${user.age}]];  
//자바스크립트 내추럴 템플릿  
	var username2 = /*[[${user.username}]]*/ "test username";  
//객체  
	var user = [[${user}]];  
	</script>  
<!-- 자바스크립트 인라인 사용 후 -->  
<script th:inline="javascript">  
	var username = [[${user.username}]];  
	var age = [[${user.age}]];  
//자바스크립트 내추럴 템플릿  
	var username2 = /*[[${user.username}]]*/ "test username";  
//객체  
	var user = [[${user}]];  
</script>  
</body>  
</html>
```

`th:inline="javascript"`를 사용하면 타임리프의 문법을 그대로 사용할 수 있다. 
데이터를 넣어줄 때 타입을 추론해서 넣어주고 주석도 사용가능하다.

객체는 알아서 JSON으로 변환을 한다. 자바스크립트 인라인을 사용하기 전의 객체는 그냥 toString()으로 처리한다.

### 자바스크립트 인라인 each
타임리프 `th:each`를 `<script>`안에서 사용할 수 있게 해주는 문법
- `[# th:each="user, stat : ${users}]`: 반복문 시작  
- `[/]`: 반복문 종료(명시적으로 작성해줘야 Thymeleaf 표현식을 올바르게 처리할 수 있다)

```html
<script th:inline="javascript">  
	[# th:each="user, stat : ${users}"]  
	var user[[${stat.count}]] = [[${user}]];  
	[/]  
</script>
```

## 템플릿 조각

